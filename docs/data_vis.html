---

title: data_vis


keywords: fastai
sidebar: home_sidebar

summary: "Classes and functions enabling miscellaneous relevant data visualization tasks"
description: "Classes and functions enabling miscellaneous relevant data visualization tasks"
nb_path: "data_vis.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: data_vis.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_settings" class="doc_header"><code>get_settings</code><a href="https://github.com/sheride/bcml4pheno/tree/master/bcml4pheno/data_vis.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_settings</code>()</p>
</blockquote>
<p>Returns some nice default settings for matplotlib to be used with <code>matplotlib.pyplot.rc_context</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="cross_section_helper" class="doc_header"><code>class</code> <code>cross_section_helper</code><a href="https://github.com/sheride/bcml4pheno/tree/master/bcml4pheno/data_vis.py#L28" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>cross_section_helper</code>(<strong><code>masses</code></strong>, <strong><code>sig_css</code></strong>, <strong><code>bg_css</code></strong>, <strong><code>mass_units</code></strong>=<em><code>'GeV'</code></em>)</p>
</blockquote>
<p>Class enabling computations and visualizations relating to signal and background cross sections</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Getting-up-and-running">Getting up and running<a class="anchor-link" href="#Getting-up-and-running"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To create an instance of <a href="/bcml4pheno/data_vis.html#cross_section_helper"><code>cross_section_helper</code></a>, you need three things. First, you need to pass a list <code>masses</code> which contains the new particle masses for which you have cross sections. Second, you need to pass list <code>sig_css</code> which has the same length as <code>masses</code> which gives the signal cross section (in pb) associated with the elements of <code>masses</code>. Finally, you need to pass a list <code>bg_css</code> which provides the cross sections for whatever the relevant background processes are.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From these arguments, the instance of <a href="/bcml4pheno/data_vis.html#cross_section_helper"><code>cross_section_helper</code></a> produces a few other variables. These are reasonably intuitive based on the variable name: <code>m2logcsF</code>, for instance, gives an interpolated function mapping a new particle mass to $log_{10}(\sigma_s)$, the log of the associated signal cross section.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Basic-Functionality">Basic Functionality<a class="anchor-link" href="#Basic-Functionality"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cross_section_helper.sig_cs" class="doc_header"><code>cross_section_helper.sig_cs</code><a href="https://github.com/sheride/bcml4pheno/tree/master/bcml4pheno/data_vis.py#L44" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cross_section_helper.sig_cs</code>(<strong><code>masses</code></strong>, <strong><code>who</code></strong>=<em><code>'E'</code></em>)</p>
</blockquote>
<p>Given a mass, returns the signal cross section (in pb) through interpolation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cross_section_helper.mass" class="doc_header"><code>cross_section_helper.mass</code><a href="https://github.com/sheride/bcml4pheno/tree/master/bcml4pheno/data_vis.py#L50" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cross_section_helper.mass</code>(<strong><code>css</code></strong>, <strong><code>who</code></strong>=<em><code>'E'</code></em>)</p>
</blockquote>
<p>Given a cross section, returns the particle mass value yielding that signal cross section</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cross_section_helper.absolute_max_mass_sens" class="doc_header"><code>cross_section_helper.absolute_max_mass_sens</code><a href="https://github.com/sheride/bcml4pheno/tree/master/bcml4pheno/data_vis.py#L56" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cross_section_helper.absolute_max_mass_sens</code>(<strong><code>lumi</code></strong>=<em><code>3000</code></em>, <strong><code>sig</code></strong>=<em><code>5</code></em>)</p>
</blockquote>
<p>Given a luminosity and desired signal significance, returns the best-case scenario highest probeable mass
(i.e., TPR = 1, FPR = 0)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cross_section_helper.max_mass_sens_versus_tpr_fpr" class="doc_header"><code>cross_section_helper.max_mass_sens_versus_tpr_fpr</code><a href="https://github.com/sheride/bcml4pheno/tree/master/bcml4pheno/data_vis.py#L63" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cross_section_helper.max_mass_sens_versus_tpr_fpr</code>(<strong><code>plot</code></strong>=<em><code>True</code></em>, <strong><code>sig</code></strong>=<em><code>5</code></em>, <strong><code>lumi</code></strong>=<em><code>3000</code></em>, <strong><code>tpr_bounds</code></strong>=<em><code>(0.1, 1)</code></em>, <strong><code>fpr_bounds</code></strong>=<em><code>(1e-07, 0.5)</code></em>, <strong><code>res</code></strong>=<em><code>1000</code></em>, <strong><code>cvalues</code></strong>=<em><code>None</code></em>, <strong><code>clabels</code></strong>=<em><code>None</code></em>, <strong><code>manual</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>For fixed luminosity and desired signal significance, plot the maximum mass sensitivity as a function of a
binary classifier's true positive rate and false positive rate.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">masses</span><span class="p">,</span> <span class="n">sig_css</span><span class="p">,</span> <span class="n">bg_css</span> <span class="o">=</span> <span class="n">get_elijah_ttbarzp_cs</span><span class="p">()</span>
<span class="n">elijah_ttbarzp</span> <span class="o">=</span> <span class="n">cross_section_helper</span><span class="p">(</span><span class="n">masses</span><span class="p">,</span> <span class="n">sig_css</span><span class="p">,</span> <span class="n">bg_css</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-39-92e0f3c96e18&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>masses<span class="ansi-blue-fg">,</span> sig_css<span class="ansi-blue-fg">,</span> bg_css <span class="ansi-blue-fg">=</span> get_elijah_ttbarzp_cs<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> elijah_ttbarzp <span class="ansi-blue-fg">=</span> cross_section_helper<span class="ansi-blue-fg">(</span>masses<span class="ansi-blue-fg">,</span> sig_css<span class="ansi-blue-fg">,</span> bg_css<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;get_elijah_ttbarzp_cs&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">elijah_ttbarzp</span><span class="o">.</span><span class="n">absolute_max_mass_sens</span><span class="p">(),</span><span class="mi">3</span><span class="p">),</span> <span class="n">elijah_ttbarzp</span><span class="o">.</span><span class="n">mass_units</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cvalues</span> <span class="o">=</span> <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">750</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">]</span>
<span class="n">clabels</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cvalues</span><span class="p">]</span>
<span class="n">manual</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.85</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.85</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.85</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.85</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.5</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.85</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">)]</span>
<span class="n">elijah_ttbarzp</span><span class="o">.</span><span class="n">max_mass_sens_versus_tpr_fpr</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cvalues</span><span class="o">=</span><span class="n">cvalues</span><span class="p">,</span> <span class="n">clabels</span><span class="o">=</span><span class="n">clabels</span><span class="p">,</span> <span class="n">manual</span><span class="o">=</span><span class="n">manual</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

